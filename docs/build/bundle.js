var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function d(){return a("")}function m(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t){return""===t?null:+t}function b(t,e){t.value=null==e?"":e}function $(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let w;function k(t){w=t}function x(){const t=function(){if(!w)throw new Error("Function called outside component initialization");return w}();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach((e=>{e.call(t,o)}))}}}const y=[],q=[],v=[],N=[],_=Promise.resolve();let P=!1;function E(t){v.push(t)}let T=!1;const j=new Set;function A(){if(!T){T=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];k(e),C(e.$$)}for(k(null),y.length=0;q.length;)q.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];j.has(e)||(j.add(e),e())}v.length=0}while(y.length);for(;N.length;)N.pop()();P=!1,T=!1,j.clear()}}function C(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const M=new Set;let J;function O(){J={r:0,c:[],p:J}}function I(){J.r||i(J.c),J=J.p}function F(t,e){t&&t.i&&(M.delete(t),t.i(e))}function S(t,e,n,i){if(t&&t.o){if(M.has(t))return;M.add(t),J.c.push((()=>{M.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function B(t){t&&t.c()}function L(t,n,r){const{fragment:s,on_mount:l,on_destroy:u,after_update:c}=t.$$;s&&s.m(n,r),E((()=>{const n=l.map(e).filter(o);u?u.push(...n):i(n),t.$$.on_mount=[]})),c.forEach(E)}function z(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(y.push(t),P||(P=!0,_.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(e,o,r,s,l,c,h=[-1]){const a=w;k(e);const f=o.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:h,skip_bound:!1};let m=!1;if(d.ctx=r?r(e,f,((t,n,...i)=>{const o=i.length?i[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),m&&D(e,t)),n})):[],d.update(),m=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(u)}else d.fragment&&d.fragment.c();o.intro&&F(e.$$.fragment),L(e,o.target,o.anchor),A()}k(a)}class U{$destroy(){z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function W(){return{height:0,width:0,squares:[]}}function G(t,e,n){return[`background-color: ${0===t.squares[e][n]?"white":K(t.squares[e][n])};`,`border-top: ${0===n||t.squares[e][n]!==t.squares[e][n-1]?3:0}px solid black;`,`border-bottom: ${n===t.height-1||t.squares[e][n]!==t.squares[e][n+1]?3:0}px solid black;`,`border-left: ${0===e||t.squares[e][n]!==t.squares[e-1][n]?3:0}px solid black;`,`border-right: ${e===t.width-1||t.squares[e][n]!==t.squares[e+1][n]?3:0}px solid black;`].join("")}function K(t){const e=["maroon","brown","olive","teal","navy","red","orange","yellow","lime","green","cyan","blue","purple","magenta","grey","pink","apricot","beige","mint","lavender"];return e[t%e.length]}function Q(t){let e=[];for(let n=0;n<t;n++)e.push(n);return e}function R(t,e){return function(t,e){return{items:t.items.map((t=>({id:t.id,possiblePositions:t.possiblePositions.filter((t=>!e.some((e=>t.spacesTaken.has(e)))))})))}}({items:t.items.filter((t=>t.id!==e.id))},[...e.spacesTaken.values()])}function V(t,e,n){let i=Q(e).map((t=>Q(n).map((t=>0))));for(let n of t)for(let t of n.spacesTaken.values()){const{x:o,y:r}=X(t,e);i[o][r]=n.id}return{width:e,height:n,squares:i}}function X(t,e){return{x:t%e,y:Math.floor(t/e)}}function Y(t,e,n){return{items:t.map((t=>function(t,e,n){return{id:Z(t),possiblePositions:tt(t,e,n).map((t=>({spacesTaken:new Set(t.map((t=>function(t,e){return t.y*e+t.x}(t,e))))})))}}(t,e,n)))}}function Z(t){for(let e=0;e<t.height;e++)for(let n=0;n<t.width;n++)if(0!==t.squares[n][e])return t.squares[n][e];return-1}function tt(t,e,n){const i=et(t),o=et(i);return function(t,e){let n=[];for(let i of t)n.push(...e(i));return n}([t,i,o,et(o)],(t=>function(t,e,n){const i=function(t){let e=[];for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++)0!==t.squares[i][n]&&e.push({x:i,y:n});return e}(t);let o=[];for(let r=0;r<n-t.height+1;r++)for(let n=0;n<e-t.width+1;n++)o.push(i.map((({x:t,y:e})=>({x:t+n,y:e+r}))));return o}(t,e,n)))}function et(t){let e={height:t.width,width:t.height,squares:Q(t.height).map((t=>[]))};for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++)e.squares[t.height-n-1][i]=t.squares[i][n];return e}function nt(t,e,n){const i=t.slice();return i[27]=e[n],i}function it(t,e,n){const i=t.slice();return i[30]=e[n],i}function ot(t,e,n){const i=t.slice();return i[27]=e[n],i}function rt(t,e,n){const i=t.slice();return i[27]=e[n],i}function st(t){let e,n,i;function o(...e){return t[12](t[27],...e)}return{c(){e=h("button"),g(e,"class","square svelte-llkym6")},m(t,r){l(t,e,r),n||(i=m(e,"click",o),n=!0)},p(e,n){t=e},d(t){t&&u(e),n=!1,i()}}}function lt(t){let e,n,i;function o(...e){return t[16](t[27],t[30],...e)}return{c(){e=h("button"),g(e,"class","square svelte-llkym6")},m(t,r){l(t,e,r),n||(i=m(e,"click",o),n=!0)},p(e,n){t=e},d(t){t&&u(e),n=!1,i()}}}function ut(t){let e,n,i,o;function r(...e){return t[15](t[27],t[30],...e)}return{c(){e=h("button"),g(e,"class","square svelte-llkym6"),g(e,"style",n=G(t[0],t[27],t[30]))},m(t,n){l(t,e,n),i||(o=m(e,"click",r),i=!0)},p(i,o){t=i,1&o[0]&&n!==(n=G(t[0],t[27],t[30]))&&g(e,"style",n)},d(t){t&&u(e),i=!1,o()}}}function ct(t){let e;function n(t,e){return t[0].squares[t[27]][t[30]]>0?ut:lt}let i=n(t),o=i(t);return{c(){o.c(),e=d()},m(t,n){o.m(t,n),l(t,e,n)},p(t,r){i===(i=n(t))&&o?o.p(t,r):(o.d(1),o=i(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&u(e)}}}function ht(t){let e,n,o,r,s,a;function d(...e){return t[14](t[30],...e)}let p=Q(t[0].width),b=[];for(let e=0;e<p.length;e+=1)b[e]=ct(ot(t,p,e));function $(...e){return t[17](t[30],...e)}return{c(){e=h("button"),n=f();for(let t=0;t<b.length;t+=1)b[t].c();o=f(),r=h("button"),g(e,"class","square svelte-llkym6"),g(r,"class","square svelte-llkym6")},m(t,i){l(t,e,i),l(t,n,i);for(let e=0;e<b.length;e+=1)b[e].m(t,i);l(t,o,i),l(t,r,i),s||(a=[m(e,"click",d),m(r,"click",$)],s=!0)},p(e,n){if(t=e,25&n[0]){let e;for(p=Q(t[0].width),e=0;e<p.length;e+=1){const i=ot(t,p,e);b[e]?b[e].p(i,n):(b[e]=ct(i),b[e].c(),b[e].m(o.parentNode,o))}for(;e<b.length;e+=1)b[e].d(1);b.length=p.length}},d(t){t&&u(e),t&&u(n),c(b,t),t&&u(o),t&&u(r),s=!1,i(a)}}}function at(t){let e,n,i;function o(...e){return t[19](t[27],...e)}return{c(){e=h("button"),g(e,"class","square svelte-llkym6")},m(t,r){l(t,e,r),n||(i=m(e,"click",o),n=!0)},p(e,n){t=e},d(t){t&&u(e),n=!1,i()}}}function ft(e){let n,o,r,d,p,b,w,k,x,y,q,v,N,_,P,E,T,j,A=Q(e[0].width),C=[];for(let t=0;t<A.length;t+=1)C[t]=st(rt(e,A,t));let M=Q(e[0].height),J=[];for(let t=0;t<M.length;t+=1)J[t]=ht(it(e,M,t));let O=Q(e[0].width),I=[];for(let t=0;t<O.length;t+=1)I[t]=at(nt(e,O,t));return{c(){n=h("section"),o=h("button"),r=f();for(let t=0;t<C.length;t+=1)C[t].c();d=f(),p=h("button"),b=f();for(let t=0;t<J.length;t+=1)J[t].c();w=f(),k=h("button"),x=f();for(let t=0;t<I.length;t+=1)I[t].c();y=f(),q=h("button"),v=f(),N=h("button"),_=a(e[1]),P=f(),E=h("button"),E.textContent="Clear",g(o,"class","square svelte-llkym6"),g(p,"class","square svelte-llkym6"),g(k,"class","square svelte-llkym6"),g(q,"class","square svelte-llkym6"),g(N,"class","submit svelte-llkym6"),$(n,"grid-template-rows",Q(e[0].height+3).map(dt).join(" ")),$(n,"grid-template-columns",Q(e[0].width+2).map(mt).join(" ")),g(n,"class","svelte-llkym6")},m(t,i){l(t,n,i),s(n,o),s(n,r);for(let t=0;t<C.length;t+=1)C[t].m(n,null);s(n,d),s(n,p),s(n,b);for(let t=0;t<J.length;t+=1)J[t].m(n,null);s(n,w),s(n,k),s(n,x);for(let t=0;t<I.length;t+=1)I[t].m(n,null);s(n,y),s(n,q),s(n,v),s(n,N),s(N,_),s(n,P),s(n,E),T||(j=[m(o,"click",e[11]),m(p,"click",e[13]),m(k,"click",e[18]),m(q,"click",e[20]),m(N,"click",e[2]),m(E,"click",e[21])],T=!0)},p(t,e){if(41&e[0]){let i;for(A=Q(t[0].width),i=0;i<A.length;i+=1){const o=rt(t,A,i);C[i]?C[i].p(o,e):(C[i]=st(o),C[i].c(),C[i].m(n,d))}for(;i<C.length;i+=1)C[i].d(1);C.length=A.length}if(217&e[0]){let i;for(M=Q(t[0].height),i=0;i<M.length;i+=1){const o=it(t,M,i);J[i]?J[i].p(o,e):(J[i]=ht(o),J[i].c(),J[i].m(n,w))}for(;i<J.length;i+=1)J[i].d(1);J.length=M.length}if(265&e[0]){let i;for(O=Q(t[0].width),i=0;i<O.length;i+=1){const o=nt(t,O,i);I[i]?I[i].p(o,e):(I[i]=at(o),I[i].c(),I[i].m(n,y))}for(;i<I.length;i+=1)I[i].d(1);I.length=O.length}2&e[0]&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(_,t[1]),1&e[0]&&$(n,"grid-template-rows",Q(t[0].height+3).map(dt).join(" ")),1&e[0]&&$(n,"grid-template-columns",Q(t[0].width+2).map(mt).join(" "))},i:t,o:t,d(t){t&&u(n),c(C,t),c(J,t),c(I,t),T=!1,i(j)}}}const dt=t=>"80px",mt=t=>"80px";function gt(t,e,n){const i=x();let{id:o=1}=e,{box:r=W()}=e,{mode:s="Add"}=e;function l(t,e){n(0,r.squares[t][e]=o,r)}function u(t,e){if(1!==r.height||1!==r.width){if(n(0,r.squares[t][e]=0,r),0===t)for(;m();)n(0,r={height:r.height,width:r.width-1,squares:r.squares.slice(1,r.width)});if(t===r.width-1)for(;g();)n(0,r={height:r.height,width:r.width-1,squares:r.squares.slice(0,r.width-1)});if(0===e)for(;p();)n(0,r={height:r.height-1,width:r.width,squares:r.squares.map((t=>t.slice(1,r.height)))});if(e===r.height-1)for(;b();)n(0,r={height:r.height-1,width:r.width,squares:r.squares.map((t=>t.slice(0,r.height-1)))})}else n(0,r={height:0,width:0,squares:[]})}function c(){n(0,r={height:r.height+1,width:r.width,squares:r.squares.map((t=>[0,...t]))})}function h(){n(0,r={height:r.height,width:r.width+1,squares:[...r.squares,Q(r.height).map((t=>0))]})}function a(){n(0,r={height:r.height,width:r.width+1,squares:[Q(r.height).map((t=>0)),...r.squares]})}function f(){n(0,r={height:r.height+1,width:r.width,squares:r.squares.map((t=>[...t,0]))})}function d(){n(0,r=W())}function m(){for(let t=0;t<r.height;t++)if(0!==r.squares[0][t])return!1;return!0}function g(){for(let t=0;t<r.height;t++)if(0!==r.squares[r.width-1][t])return!1;return!0}function p(){for(let t=0;t<r.width;t++)if(0!==r.squares[t][0])return!1;return!0}function b(){for(let t=0;t<r.width;t++)if(0!==r.squares[t][r.height-1])return!1;return!0}return t.$$set=t=>{"id"in t&&n(10,o=t.id),"box"in t&&n(0,r=t.box),"mode"in t&&n(1,s=t.mode)},[r,s,function(){i("submit",r)},l,u,c,h,a,f,d,o,t=>{c(),a(),l(0,0)},(t,e)=>{c(),l(t,0)},t=>{c(),h(),l(r.width-1,0)},(t,e)=>{a(),l(0,t)},(t,e,n)=>u(t,e),(t,e,n)=>l(t,e),(t,e)=>{h(),l(r.width-1,t)},t=>{f(),a(),l(0,r.height-1)},(t,e)=>{f(),l(t,r.height-1)},t=>{f(),h(),l(r.width-1,r.height-1)},t=>d()]}class pt extends U{constructor(t){super(),H(this,t,gt,ft,r,{id:10,box:0,mode:1},[-1,-1])}}function bt(t,e,n){const i=t.slice();return i[1]=e[n],i}function $t(t,e,n){const i=t.slice();return i[4]=e[n],i}function wt(t){let e,n;return{c(){e=h("div"),g(e,"style",n=G(t[0],t[4],t[1]))},m(t,n){l(t,e,n)},p(t,i){1&i&&n!==(n=G(t[0],t[4],t[1]))&&g(e,"style",n)},d(t){t&&u(e)}}}function kt(t){let e,n=Q(t[0].width),i=[];for(let e=0;e<n.length;e+=1)i[e]=wt($t(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=d()},m(t,n){for(let e=0;e<i.length;e+=1)i[e].m(t,n);l(t,e,n)},p(t,o){if(1&o){let r;for(n=Q(t[0].width),r=0;r<n.length;r+=1){const s=$t(t,n,r);i[r]?i[r].p(s,o):(i[r]=wt(s),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(t){c(i,t),t&&u(e)}}}function xt(e){let n,i=Q(e[0].height),o=[];for(let t=0;t<i.length;t+=1)o[t]=kt(bt(e,i,t));return{c(){n=h("section");for(let t=0;t<o.length;t+=1)o[t].c();$(n,"grid-template-rows",Q(e[0].height).map(yt).join(" ")),$(n,"grid-template-columns",Q(e[0].width).map(qt).join(" ")),g(n,"class","svelte-v9ytl5")},m(t,e){l(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(1&e){let r;for(i=Q(t[0].height),r=0;r<i.length;r+=1){const s=bt(t,i,r);o[r]?o[r].p(s,e):(o[r]=kt(s),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}1&e&&$(n,"grid-template-rows",Q(t[0].height).map(yt).join(" ")),1&e&&$(n,"grid-template-columns",Q(t[0].width).map(qt).join(" "))},i:t,o:t,d(t){t&&u(n),c(o,t)}}}const yt=t=>"20px",qt=t=>"20px";function vt(t,e,n){let{box:i=W()}=e;return t.$$set=t=>{"box"in t&&n(0,i=t.box)},[i]}class Nt extends U{constructor(t){super(),H(this,t,vt,xt,r,{box:0})}}function _t(t,e,n){const i=t.slice();return i[5]=e[n],i[7]=n,i}function Pt(t){let e,n,o,r,c,a,d,g,p,b,$,w,k;function x(...e){return t[3](t[7],...e)}function y(...e){return t[4](t[7],...e)}return o=new Nt({props:{box:t[5]}}),{c(){e=h("tr"),n=h("td"),B(o.$$.fragment),r=f(),c=h("td"),a=h("button"),a.textContent="Edit",d=f(),g=h("td"),p=h("button"),p.textContent="Delete",b=f()},m(t,i){l(t,e,i),s(e,n),L(o,n,null),s(e,r),s(e,c),s(c,a),s(e,d),s(e,g),s(g,p),s(e,b),$=!0,w||(k=[m(a,"click",x),m(p,"click",y)],w=!0)},p(e,n){t=e;const i={};1&n&&(i.box=t[5]),o.$set(i)},i(t){$||(F(o.$$.fragment,t),$=!0)},o(t){S(o.$$.fragment,t),$=!1},d(t){t&&u(e),z(o),w=!1,i(k)}}}function Et(t){let e,n,i=t[0],o=[];for(let e=0;e<i.length;e+=1)o[e]=Pt(_t(t,i,e));const r=t=>S(o[t],1,1,(()=>{o[t]=null}));return{c(){e=h("table");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,i){l(t,e,i);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(7&n){let s;for(i=t[0],s=0;s<i.length;s+=1){const r=_t(t,i,s);o[s]?(o[s].p(r,n),F(o[s],1)):(o[s]=Pt(r),o[s].c(),F(o[s],1),o[s].m(e,null))}for(O(),s=i.length;s<o.length;s+=1)r(s);I()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)F(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)S(o[t]);n=!1},d(t){t&&u(e),c(o,t)}}}function Tt(t,e,n){const i=x(),o=x();let{boxes:r=[]}=e;return t.$$set=t=>{"boxes"in t&&n(0,r=t.boxes)},[r,i,o,(t,e)=>i("edit",t),(t,e)=>o("delete",t)]}class jt extends U{constructor(t){super(),H(this,t,Tt,Et,r,{boxes:0})}}function At(e){let n;return{c(){n=a("No solution")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Ct(t){let e,n;return e=new Nt({props:{box:t[3].value}}),{c(){B(e.$$.fragment)},m(t,i){L(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.box=t[3].value),e.$set(i)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Mt(t){let e,n,o,r,c,a,d,$,w,k,x,y,q,v,N,_,P,E,T,j,A,C,M;n=new pt({props:{id:t[1]+1,mode:t[4],box:t[2]}}),n.$on("submit",t[7]),r=new jt({props:{boxes:t[0]}}),r.$on("delete",t[8]),r.$on("edit",t[9]);const J=[Ct,At],D=[];function H(t,e){return"Just"===t[3].kind?0:1}return T=H(t),j=D[T]=J[T](t),{c(){e=h("main"),B(n.$$.fragment),o=f(),B(r.$$.fragment),c=f(),a=h("label"),a.textContent="Width",d=f(),$=h("input"),k=f(),x=h("label"),x.textContent="Height",y=f(),q=h("input"),N=f(),_=h("p"),P=h("button"),P.textContent="New satisfy",E=f(),j.c(),g(a,"for","width"),g($,"id","width"),g($,"type","number"),g($,"min",w=Math.max(0,...t[0].map(t[10]))),g(x,"for","height"),g(q,"id","height"),g(q,"type","number"),g(q,"min",v=Math.max(0,...t[0].map(t[12])))},m(i,u){l(i,e,u),L(n,e,null),s(e,o),L(r,e,null),s(e,c),s(e,a),s(e,d),s(e,$),b($,t[5]),s(e,k),s(e,x),s(e,y),s(e,q),b(q,t[6]),s(e,N),s(e,_),s(_,P),s(e,E),D[T].m(e,null),A=!0,C||(M=[m($,"input",t[11]),m(q,"input",t[13]),m(P,"click",t[14])],C=!0)},p(t,[i]){const o={};2&i&&(o.id=t[1]+1),16&i&&(o.mode=t[4]),4&i&&(o.box=t[2]),n.$set(o);const s={};1&i&&(s.boxes=t[0]),r.$set(s),(!A||1&i&&w!==(w=Math.max(0,...t[0].map(t[10]))))&&g($,"min",w),32&i&&p($.value)!==t[5]&&b($,t[5]),(!A||1&i&&v!==(v=Math.max(0,...t[0].map(t[12]))))&&g(q,"min",v),64&i&&p(q.value)!==t[6]&&b(q,t[6]);let l=T;T=H(t),T===l?D[T].p(t,i):(O(),S(D[l],1,1,(()=>{D[l]=null})),I(),j=D[T],j?j.p(t,i):(j=D[T]=J[T](t),j.c()),F(j,1),j.m(e,null))},i(t){A||(F(n.$$.fragment,t),F(r.$$.fragment,t),F(j),A=!0)},o(t){S(n.$$.fragment,t),S(r.$$.fragment,t),S(j),A=!1},d(t){t&&u(e),z(n),z(r),D[T].d(),C=!1,i(M)}}}function Jt(t,e,n){let i=[],o=0,r=W(),s={kind:"Nothing"},l="Add",u=0,c=0;return[i,o,r,s,l,u,c,t=>{"Add"===l?(n(0,i=[...i,t.detail]),n(1,o++,o)):(n(0,i[o]=t.detail,i),n(4,l="Add"),n(1,o=i.length)),n(2,r=W())},t=>n(0,i=i.filter(((e,n)=>n!==t.detail))),t=>{n(4,l="Update"),n(2,r=i[t.detail]),n(1,o=t.detail)},t=>Math.min(t.width,t.height),function(){u=p(this.value),n(5,u)},t=>Math.min(t.width,t.height),function(){c=p(this.value),n(6,c)},t=>{const e=function t(e,n){const i=function(t){if(0===t.items.length)return{kind:"No More Items"};for(let e of t.items){if(0===e.possiblePositions.length)return{kind:"No Possible Positions For An Item"};if(1===e.possiblePositions.length)return{kind:"Exactly One Position",position:{id:e.id,spacesTaken:e.possiblePositions[0].spacesTaken}}}return{kind:"Need To Try All Positions",item:t.items[0]}}(e);switch(i.kind){case"No More Items":return{kind:"Just",value:n};case"No Possible Positions For An Item":return{kind:"Nothing"};case"Exactly One Position":return t(R(e,i.position),[...n,i.position]);case"Need To Try All Positions":for(let o of i.item.possiblePositions){const r={id:i.item.id,spacesTaken:o.spacesTaken},s=t(R(e,r),[...n,r]);if("Just"===s.kind)return s}return{kind:"Nothing"}}}(Y(i,u,c),[]);"Just"===e.kind?n(3,s={kind:"Just",value:V(e.value,u,c)}):n(3,s={kind:"Nothing"})}]}return new class extends U{constructor(t){super(),H(this,t,Jt,Mt,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
